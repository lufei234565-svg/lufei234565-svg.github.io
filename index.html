<!DOCTYPE html>
<html lang="zh" data-theme="">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>å¤§èƒ†ä¸“å± Â· å†’é™©èµ·èˆª</title>
<style>
  :root{
    --pri:#0d6efd; --pri-hover:#0b5ed7;
    --danger:#dc3545; --danger-hover:#bb2d3b;
    --bg1:#f9fbff; --bg2:#eef2ff; --text:#111; --panel:#fff; --border:#e6e8ef;
    --node:#cbd5e1; --node-on:var(--pri);
  }
  html[data-theme="green"]{
    --pri:#22c55e; --pri-hover:#16a34a;
    --danger:#ef4444; --danger-hover:#dc2626;
    --bg1:#f0fdf4; --bg2:#dcfce7; --text:#0b0f10; --panel:#fff; --border:#d1fae5;
    --node:#a7f3d0; --node-on:#10b981;
  }
  html[data-theme="blackgold"]{
    --pri:#d4af37; --pri-hover:#b8860b;
    --danger:#ff4d4f; --danger-hover:#d9363e;
    --bg1:#0f0f0f; --bg2:#1a1a1a; --text:#f5f5f5; --panel:#151515; --border:#2a2a2a;
    --node:#3a3a3a; --node-on:#d4af37;
  }

  *{box-sizing:border-box}
  body{
    margin:0; min-height:100vh; display:flex; flex-direction:column;
    font-family:"Microsoft YaHei",Segoe UI,Roboto,sans-serif;
    background:radial-gradient(1200px 600px at 50% -200px,var(--bg2),var(--bg1));
    color:var(--text);
  }
  header{ text-align:center; padding:56px 16px 10px; }
  header h1{ margin:0 0 8px; font-size:2.2rem; color:var(--pri) }
  header p{ margin:0; color:#6b7280 }
  .toolbar{ display:flex; gap:10px; justify-content:center; margin:14px 0 6px; }
  select{ padding:8px 10px; border-radius:10px; border:1px solid var(--border); background:var(--panel); color:var(--text); }

  main{ flex:1; display:grid; place-items:center; padding:16px }
  .map{
    width:min(980px,94vw); aspect-ratio:16/9; position:relative;
    border:1px solid var(--border); border-radius:16px; background:linear-gradient(180deg,#a7f3ff22,transparent 30%), radial-gradient(600px 300px at 80% 0%,#ffe9b322,transparent 60%), var(--panel);
    overflow:hidden;
  }
  .path{ position:absolute; inset:0; pointer-events:none }
  .node{
    --s:20px;
    position:absolute; width:var(--s); height:var(--s); border-radius:999px; background:var(--node);
    border:2px solid #ffffff55; box-shadow:0 4px 10px rgba(0,0,0,.15);
    transform:translate(-50%,-50%); transition:.25s;
  }
  .node.on{ background:var(--node-on); box-shadow:0 0 0 6px color-mix(in srgb, var(--node-on) 25%, transparent), 0 8px 20px color-mix(in srgb, var(--node-on) 35%, transparent); }
  .node label{
    position:absolute; top:24px; left:50%; transform:translateX(-50%); font-size:12px; color:#6b7280; white-space:nowrap; user-select:none;
  }
  .legend{ position:absolute; left:12px; bottom:12px; background:color-mix(in srgb, var(--panel) 85%, transparent); padding:10px 12px; border:1px solid var(--border); border-radius:12px; }
  .actions{ display:flex; gap:12px; justify-content:center; margin-top:16px }
  .btn{
    display:inline-block; padding:12px 18px; border-radius:999px; border:1px solid var(--border);
    background:var(--pri); color:#fff; text-decoration:none; cursor:pointer;
    box-shadow:0 6px 16px color-mix(in srgb, var(--pri) 35%, transparent); transition:.2s;
  }
  .btn:hover{ background:var(--pri-hover); transform:translateY(-2px) }
  .btn.danger{ background:var(--danger) }
  .btn.danger:hover{ background:var(--danger-hover) }
  footer{ text-align:center; padding:14px; border-top:1px solid var(--border); background:var(--panel); color:#777 }
</style>
</head>
<body>
  <header>
    <h1>ğŸ å¤§èƒ†ä¸“å± Â· ä»£ç æ¢é™©å²›</h1>
    <p>å®Œæˆ 20 å…³ï¼Œç‚¹äº®æ•´æ¡èˆªçº¿ï¼</p>
    <div class="toolbar">
      <label for="theme">ğŸ¨ ä¸»é¢˜ï¼š</label>
      <select id="theme">
        <option value="">è“è‰²</option>
        <option value="green">ç»¿è‰²</option>
        <option value="blackgold">é»‘é‡‘</option>
      </select>
    </div>
  </header>

  <main>
    <div class="map" id="map">
      <svg class="path" viewBox="0 0 1600 900" preserveAspectRatio="none">
        <defs><linearGradient id="g" x1="0" y1="0" x2="1" y2="1"><stop offset="0" stop-color="var(--pri)" stop-opacity="0.35"/><stop offset="1" stop-color="var(--pri)" stop-opacity="0.05"/></linearGradient></defs>
        <path d="M100,780 C240,720 360,660 480,660 600,660 700,720 820,690 940,660 1030,580 1140,560 1260,540 1380,600 1500,560"
              stroke="url(#g)" stroke-width="10" fill="none" stroke-linecap="round" />
      </svg>
      <div class="legend">
        <div>ğŸŒŸ è¿›åº¦ï¼š<strong id="progressText">0 / 20</strong></div>
        <div style="font-size:12px;color:#6b7280">ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®è¿›å…¥æ¸¸æˆç»§ç»­è§£é”</div>
      </div>
    </div>

    <div class="actions">
      <a class="btn" href="game/">ğŸ® è¿›å…¥å°æ¸¸æˆ</a>
      <button class="btn danger" id="resetBtn">ğŸ”„ é‡æ–°å¼€å§‹</button>
    </div>
  </main>

  <footer>Â© 2025 å¤§èƒ†ä¸“å± | Powered by GitHub Pages</footer>

<script>
  // ä¸»é¢˜
  const themeSel = document.getElementById('theme');
  const savedTheme = localStorage.getItem('siteTheme') || '';
  document.documentElement.setAttribute('data-theme', savedTheme);
  themeSel.value = savedTheme;
  themeSel.onchange = () => {
    document.documentElement.setAttribute('data-theme', themeSel.value);
    localStorage.setItem('siteTheme', themeSel.value);
  };

  // åŠ¨æ€æ¸²æŸ“ 20 ä¸ªèŠ‚ç‚¹ï¼ˆé¿å…æ‰‹å†™ï¼‰
  const map = document.getElementById('map');
  const positions = [
    [8,82],[14,78],[20,74],[26,72],[32,70],
    [38,69],[44,68],[50,67],[56,66],[62,65],
    [68,64],[74,63],[80,62],[86,60],[90,58],
    [94,56],[96,54],[98,53],[99,52],[100,51]
  ];
  const frag=document.createDocumentFragment();
  positions.forEach((p,i)=>{
    const n=document.createElement('div');
    n.className='node'; n.style.left=p[0]+'%'; n.style.top=p[1]+'%';
    const lab=document.createElement('label'); lab.textContent='L'+(i+1);
    n.appendChild(lab); frag.appendChild(n);
  });
  map.appendChild(frag);

  function updateMap(){
    const total=20;
    const passed = Math.max(0, Math.min(total, Number(localStorage.getItem('passedLevels')||0)));
    document.getElementById('progressText').textContent = `${passed} / ${total}`;
    document.querySelectorAll('.node').forEach((n,idx)=> n.classList.toggle('on', idx < passed));
  }
  updateMap();

  document.getElementById('resetBtn').onclick = ()=>{
    if(confirm('ç¡®å®šæ¸…ç©ºé€šå…³è¿›åº¦å—ï¼Ÿ')){
      localStorage.removeItem('passedLevels');
      updateMap();
      alert('è¿›åº¦å·²æ¸…ç©ºï¼Œé‡æ–°å‡ºå‘ï¼');
    }
  };
</script>
</body>
</html>
